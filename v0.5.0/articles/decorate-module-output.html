<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Decorate Module Output • teal.modules.general</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Decorate Module Output">
<link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">teal.modules.general</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/teal-modules-general.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/decorate-module-output.html">Decorate Module Output</a></li>
    <li><a class="dropdown-item" href="../articles/using-association-plot.html">Using association plot</a></li>
    <li><a class="dropdown-item" href="../articles/using-bivariate-plot.html">Using bivariate plot</a></li>
    <li><a class="dropdown-item" href="../articles/using-cross-table.html">Using cross table</a></li>
    <li><a class="dropdown-item" href="../articles/using-data-table.html">Using data table</a></li>
    <li><a class="dropdown-item" href="../articles/using-outliers-module.html">Using outliers module</a></li>
    <li><a class="dropdown-item" href="../articles/using-regression-plots.html">Using regression plots</a></li>
    <li><a class="dropdown-item" href="../articles/using-response-plot.html">Using response plot</a></li>
    <li><a class="dropdown-item" href="../articles/using-scatterplot-matrix.html">Using scatterplot matrix</a></li>
    <li><a class="dropdown-item" href="../articles/using-scatterplot.html">Using scatterplot</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports">
<li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul>
</li>
      <div><li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/release-candidate">release-candidate</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.6.0">v0.6.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.6.0-rc1">v0.6.0-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.5.1">v0.5.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.5.1-rc2">v0.5.1-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.5.1-rc1">v0.5.1-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.5.0">v0.5.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.5.0-rc1">v0.5.0-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.4.1">v0.4.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.4.1-rc1">v0.4.1-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.4.0">v0.4.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.4.0-rc1">v0.4.0-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.3.0">v0.3.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.3.0-rc2">v0.3.0-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.3.0-rc1">v0.3.0-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.2.16">v0.2.16</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.modules.general/v0.2.15">v0.2.15</a>
</div>
</li></div>
</ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/teal.modules.general"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Decorate Module Output</h1>
                        <h4 data-toc-skip class="author">NEST
CoreDev</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/teal.modules.general/blob/v0.5.0/vignettes/decorate-module-output.Rmd" class="external-link"><code>vignettes/decorate-module-output.Rmd</code></a></small>
      <div class="d-none name"><code>decorate-module-output.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The outputs produced by <code>teal</code> modules, like graphs or
tables, are created by the module developer and look a certain way. It
is hard to design an output that will satisfy every possible user, so
the form of the output should be considered a default value that can be
customized. Here we describe the concept of <em>decoration</em>,
enabling the app developer to tailor outputs to their specific
requirements without rewriting the original module code.</p>
<p>The decoration process is build upon transformation procedures,
introduced in <code>teal</code>. While <code>transformators</code> are
meant to edit module’s input, decorators are meant to adjust the
module’s output. To distinguish the difference, modules in
<code>teal.modules.general</code> have 2 separate parameters:
<code>transformators</code> and <code>decorators</code>.</p>
<p>To get a complete understanding refer the following vignettes:</p>
<ul>
<li>Transforming the input data in <a href="https://insightsengineering.github.io/teal/latest-tag/articles/transform-input-data.html" class="external-link">this
vignette</a>.</li>
<li>Transforming module output in <a href="https://insightsengineering.github.io/teal/latest-tag/articles/transform-module-output.html" class="external-link">this
vignette</a>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="outputs-that-can-be-decorated">Outputs that can be decorated<a class="anchor" aria-label="anchor" href="#outputs-that-can-be-decorated"></a>
</h2>
<p>It is important to note which output objects from a given module can
be decorated. The module function documentation’s <em>Decorating
Module</em> section has this information.</p>
<p>You can also refer the table shown below to know which module outputs
can be decorated.</p>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Module</th>
<th>Output (Class)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>tm_a_pca</code></td>
<td>elbow_plot (ggplot), circle_plot (ggplot), biplot (ggplot),
eigenvector_plot (ggplot)</td>
</tr>
<tr class="even">
<td><code>tm_a_regression</code></td>
<td>plot (ggplot)</td>
</tr>
<tr class="odd">
<td><code>tm_g_association</code></td>
<td>plot (grob)</td>
</tr>
<tr class="even">
<td><code>tm_g_bivariate</code></td>
<td>plot (ggplot)</td>
</tr>
<tr class="odd">
<td><code>tm_g_distribution</code></td>
<td>histogram_plot (ggplot), qq_plot (ggplot), summary_table
(datatables), test_table (datatables)</td>
</tr>
<tr class="even">
<td><code>tm_g_response</code></td>
<td>plot (ggplot)</td>
</tr>
<tr class="odd">
<td><code>tm_g_scatterplot</code></td>
<td>plot (ggplot)</td>
</tr>
<tr class="even">
<td><code>tm_g_scatterplotmatrix</code></td>
<td>plot (trellis)</td>
</tr>
<tr class="odd">
<td><code>tm_missing_data</code></td>
<td>summary_plot (grob), combination_plot (grob), by_subject_plot
(ggplot), table (datatables)</td>
</tr>
<tr class="even">
<td><code>tm_outliers</code></td>
<td>box_plot (ggplot), density_plot (ggplot), cumulative_plot (ggplot),
table (datatables)</td>
</tr>
<tr class="odd">
<td><code>tm_t_crosstable</code></td>
<td>table (ElementaryTable)</td>
</tr>
</tbody>
</table>
<p>Also, note that there are five different types of objects that can be
decorated:</p>
<ol style="list-style-type: decimal">
<li><code>ElementaryTable</code></li>
<li><code>ggplot</code></li>
<li><code>grob</code></li>
<li><code>datatables</code></li>
<li><code>trellis</code></li>
</ol>
<p><em>Tip:</em> A general tip before trying to decorate the output from
the module is to copy the reproducible code and running them in a
separate R session to quickly iterate the decoration you want.</p>
</div>
<div class="section level2">
<h2 id="decorating-elementarytable">Decorating <code>ElementaryTable</code><a class="anchor" aria-label="anchor" href="#decorating-elementarytable"></a>
</h2>
<p>Here’s an example to showcase how you can edit an output of class
<code>ElementaryTable</code>. <code>rtables</code> modifiers like
<code><a href="https://insightsengineering.github.io/rtables/latest-release/reference/insert_rrow.html" class="external-link">rtables::insert_rrow</a></code> can be applied to modify this
object.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/teal.modules.general/">teal.modules.general</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">teal_data</span><span class="op">(</span>join_keys <span class="op">=</span> <span class="va">default_cdisc_join_keys</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="st">"ADRS"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/nestcolor/" class="external-link">nestcolor</a></span><span class="op">)</span></span>
<span>  <span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="va">rADSL</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">insert_rrow_decorator</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">default_caption</span> <span class="op">=</span> <span class="st">"I am a good new row"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">teal_transform_module</span><span class="op">(</span></span>
<span>    label <span class="op">=</span> <span class="st">"New row"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span>, <span class="st">"new_row"</span><span class="op">)</span>, <span class="st">"New row"</span>, value <span class="op">=</span> <span class="va">default_caption</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span></span>
<span>              <span class="op">{</span></span>
<span>                <span class="va">table</span> <span class="op">&lt;-</span> <span class="fu">rtables</span><span class="fu">::</span><span class="fu"><a href="https://insightsengineering.github.io/rtables/latest-release/reference/insert_rrow.html" class="external-link">insert_rrow</a></span><span class="op">(</span><span class="va">table</span>, <span class="fu">rtables</span><span class="fu">::</span><span class="fu"><a href="https://insightsengineering.github.io/rtables/latest-release/reference/rrow.html" class="external-link">rrow</a></span><span class="op">(</span><span class="va">new_row</span><span class="op">)</span><span class="op">)</span></span>
<span>              <span class="op">}</span>,</span>
<span>              new_row <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">new_row</span></span>
<span>            <span class="op">)</span></span>
<span>        <span class="op">}</span><span class="op">)</span></span>
<span>      <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">init</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu">modules</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/tm_t_crosstable.html">tm_t_crosstable</a></span><span class="op">(</span></span>
<span>      label <span class="op">=</span> <span class="st">"Cross Table"</span>,</span>
<span>      x <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>          choices <span class="op">=</span> <span class="fu">variable_choices</span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span>, subset <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">idx</span> <span class="op">&lt;-</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">inherits</span>, <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"POSIXct"</span>, <span class="st">"POSIXlt"</span><span class="op">)</span><span class="op">)</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span></span>
<span>          <span class="op">}</span><span class="op">)</span>,</span>
<span>          selected <span class="op">=</span> <span class="st">"COUNTRY"</span>,</span>
<span>          multiple <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          ordered <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      y <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>          choices <span class="op">=</span> <span class="fu">variable_choices</span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span>, subset <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">is.factor</span>, <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span></span>
<span>          <span class="op">}</span><span class="op">)</span>,</span>
<span>          selected <span class="op">=</span> <span class="st">"SEX"</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      decorators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        table <span class="op">=</span> <span class="fu">insert_rrow_decorator</span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shinyApp</span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<iframe src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMASzLgCcoDTqA3OAAgB4BaDgMwCuEZtRIAKAJQcAKlgCqAUQA6EADbUARo3oBPceShqMMIgBNBauAGcMAcwoMjk1Ru1Q9BuEZPnLN+0dGNRcIVTMoUihuPkM1AH0IqPEAKyJaeIBrOF1rDgBeDjM4fihLUniCM2prAni0jOzc4AJxZTAAQQARAGUAGXbcDnburB72yQBdUKTo3g4Ad2pSAAtacVmhkFUODno4AEdBan3xCBtSYjUielDd7v6YvYeBiABfUNVaawYK+noiAtEnBiIxSDcnkIRCwJMVSuVKmgYRACsMwABJDiwLEcOxEcwcc4LPaAiYcbYojhxeKkRgQaz8G4weKmCxWNqU3ZqKCaOBqVHtABycGJAIWgx2uw4x1RUNEEmoZmkFKlUusawgukQiHIAA9SOiIKhBKRxOraFrEIKeuJFUN2kT4mKJvawMLRaS8BxWEZBJxCnCymoKgQkWIIHcpW9cJLdj96Ox6LLhPKILazENZsrY1LWf4egxE+mhnLkbajSahkQTcbSEMftZrOHs5zVXtvKJ2OIVW3VbMpBwAD4APhzvd2S1W6zH492PdnvaimisT3oS6s1m131+TrFBh5ViGa4PNm1-0BZxFTsBkkjC6jMdb98dYtRtFrABIX6Sn+O722PhnQDWzeSVQlAsJoHQJ5aGWDldlmVFNklPMN1RVCbHgqVSGZEMAUbdc4Cw1VuV5flCnaABhfC8hkE8JV-XUkMiKB4jgfVGGYeJrFQEFiLbWZoHgAVOl6AY8BnOM+RBUhUR+KwuJ4vjJKlAgVnSAgbFRH16GoE9KnU6hNOsDYWOAYARjE9pJkmetBE0H5ZMKUtw1MqIW3vXZFSY+YAEIfXQNR9E2DhaBWBhlmsIZrjsIyjHEABGSQhladoukiOBBjRAAFAB5Hp0QADWYLL2jygrCuDCZ-1nITMKzYBvMmFTdg+R973kmS4DMETKNy+RBTkABNBj7xgcpqFQFdCjkJR2oXG5in2HqZoUFRf12GqOGSmddGYqI2I4pgKiU1KNqKFi6pEl5RvHTrmDk6TFN4s77zUjStMKHS9OXOADI+kzZnMyz+ms2yOGsezHOTaFXKzckWqlbyngCqbgpYoYagwUpmBuaKiFi0M1ES29Ed2OrAZYyRGrMXVmvO1qdoZiGnvIFa0R6RRCvaFStqZ3tilBSIbjyQoNGsU0VMIt96R3c8gUFm5hfoKQZ3-SNQk+CBqH4Dhy3ITiWC7W8Ecpc1NQ6dBxDQVAP2OIYbY-eNE3AsA3kmIA" width="150%" height="800px" data-external="1" style="position: relative; z-index:1">
</iframe>
</div>
<div class="section level2">
<h2 id="decorating-ggplot">Decorating <code>ggplot</code><a class="anchor" aria-label="anchor" href="#decorating-ggplot"></a>
</h2>
<p>Here’s an example to showcase how you can edit an output of class
<code>ggplot</code>. You can extend them using <code>ggplot2</code>
functions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/teal.modules.general/">teal.modules.general</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">teal_data</span><span class="op">(</span>join_keys <span class="op">=</span> <span class="va">default_cdisc_join_keys</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="st">"ADRS"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/nestcolor/" class="external-link">nestcolor</a></span><span class="op">)</span></span>
<span>  <span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="va">rADSL</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ggplot_caption_decorator</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">default_caption</span> <span class="op">=</span> <span class="st">"I am a good decorator"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">teal_transform_module</span><span class="op">(</span></span>
<span>    label <span class="op">=</span> <span class="st">"Caption"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span>, <span class="st">"footnote"</span><span class="op">)</span>, <span class="st">"Footnote"</span>, value <span class="op">=</span> <span class="va">default_caption</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span></span>
<span>              <span class="op">{</span></span>
<span>                <span class="va">plot</span> <span class="op">&lt;-</span> <span class="va">plot</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="va">footnote</span><span class="op">)</span></span>
<span>              <span class="op">}</span>,</span>
<span>              footnote <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">footnote</span></span>
<span>            <span class="op">)</span></span>
<span>        <span class="op">}</span><span class="op">)</span></span>
<span>      <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">init</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu">modules</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/tm_a_regression.html">tm_a_regression</a></span><span class="op">(</span></span>
<span>      label <span class="op">=</span> <span class="st">"Regression"</span>,</span>
<span>      response <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>          label <span class="op">=</span> <span class="st">"Select variable:"</span>,</span>
<span>          choices <span class="op">=</span> <span class="st">"BMRKR1"</span>,</span>
<span>          selected <span class="op">=</span> <span class="st">"BMRKR1"</span>,</span>
<span>          multiple <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>          fixed <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      regressor <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>          label <span class="op">=</span> <span class="st">"Select variables:"</span>,</span>
<span>          choices <span class="op">=</span> <span class="fu">variable_choices</span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"RACE"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>          selected <span class="op">=</span> <span class="st">"AGE"</span>,</span>
<span>          multiple <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          fixed <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      decorators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        plot <span class="op">=</span> <span class="fu">ggplot_caption_decorator</span><span class="op">(</span><span class="st">"I am a Regression"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shinyApp</span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<iframe src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMASzLgCcoDTqA3OAAgB4BaDgMwCuEZtRIAKAJQcAKlgCqAUQA6EADbUARo3oBPceShqMMIgBNBauAGcMAcwoMjk1Ru1Q9BuEZPnLN+0dGNRcIVTMoUihuPkM1AH0IqPEAKyJaeIBrOF1rDgBeDjM4fihLUniCM2prAni0jOzc4AJxZTAAQQARAGUAGXbcDnburB72yQBdUKTo3g4Ad2pSAAtacVmhkFUODno4AEdBan3xCBtSYjUielDd7v6YvYeBiABfUNU7O1RrioI0CwSIk4MRGKQbk8hCIgRANiUymp-oCxBACsMwABJDiwHEcOxEcxFUE3SI3CYcbZojhxeKkRgQaz8G4weKmCxWNrU3ZqKCaOBqdHtADCKJIgx2uw4x3R0NEEmoZmkVKlUusawgukQiHIAA9SJiIKhBKRxOraFrEAA5HriRVDdrMoikCDOuATB1gABihJdbsGHFYRkEnEKxVK5UqYogdylb1wkt21gY7HosuE8rh9qKkSgysTUvZ-h6KYYdrMQzlsLtRpNQyIJuNpCGyes1lR+e5qr23lE7HEKu7qtmUg4AB8AHwFoe7JardbTme7QdLoe-Z1PdekDgAanxPz+ACZtbzNNZxADULDZb7XeRY6u4wmu4+nX7yOjaE2ACRvu-ul8ZwfbsPkXUCuzeSVQkgsJoHQJ5aGWLldlmdFNklIsrDyQpMJsZCpVIVkoHifY7H2NtUXw1VTwFIUwCwOAyJsdtxTwRdyNQEhkzQ3N4jgfVGGYeJrFQUEqO7WZoHgOiXglQCkwFUFt0KZMrCEkSxMXai+Vowp2hLNTtyDehqD5KxEDkx8CBWdICBsOiACEAFksAAaSwABGSzV1UpS4DMRyXPcry2PkwtymoX5Qw4L0Oj6HpFGfV9qF1fz0TkJQtI4YDdkkJLu1I8jrEhMNeP4+kmAqDTWiyyTYGikZegGUKl185h0TaqrRJqsKeR0wU9LAAylMDDxTM0LCLJa1drNs+zCmM8arEqGzqDs89ZmAYBGv6dpJkmIYas6ABxFQ8AxBKAA0A3aLAOmFM7JDyrKFMMtLBo6U7vKXGAIqi9KFESl6BBS96YrihKspy7L8uHElwRubCOA0axTSyrd0W+LcoyvVEQTBMl6DaLEcRgPEGKYijWOh4DY1CT4IGofgOBrchBJYfsnspSVzU1Dp0HENBUG-Y4hiF79k3oVNoLAN5JiAA" width="150%" height="800px" data-external="1" style="position: relative; z-index:1">
</iframe>
</div>
<div class="section level2">
<h2 id="decorating-grob">Decorating <code>grob</code><a class="anchor" aria-label="anchor" href="#decorating-grob"></a>
</h2>
<p>Here’s an example to showcase how you can edit an output of class
<code>grob</code>. You can extend them using <code>grid</code> and
<code>gridExtra</code> functions.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/teal.modules.general/">teal.modules.general</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">teal_data</span><span class="op">(</span>join_keys <span class="op">=</span> <span class="va">default_cdisc_join_keys</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="st">"ADRS"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">{</span></span>
<span>  <span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="va">rADSL</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">grob_caption_decorator</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">default_caption</span> <span class="op">=</span> <span class="st">"I am a good decorator"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">teal_transform_module</span><span class="op">(</span></span>
<span>    label <span class="op">=</span> <span class="st">"Caption"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span>, <span class="st">"footnote"</span><span class="op">)</span>, <span class="st">"Footnote"</span>, value <span class="op">=</span> <span class="va">default_caption</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span></span>
<span>              <span class="op">{</span></span>
<span>                <span class="va">footnote_grob</span> <span class="op">&lt;-</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.text.html" class="external-link">textGrob</a></span><span class="op">(</span></span>
<span>                  <span class="va">footnote</span>,</span>
<span>                  x <span class="op">=</span> <span class="fl">0</span>, hjust <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                  gp <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/gpar.html" class="external-link">gpar</a></span><span class="op">(</span>fontsize <span class="op">=</span> <span class="fl">10</span>, fontface <span class="op">=</span> <span class="st">"italic"</span>, col <span class="op">=</span> <span class="st">"gray50"</span><span class="op">)</span></span>
<span>                <span class="op">)</span></span>
<span>                <span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">arrangeGrob</a></span><span class="op">(</span></span>
<span>                  <span class="va">plot</span>,</span>
<span>                  <span class="va">footnote_grob</span>,</span>
<span>                  ncol <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                  heights <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.c.html" class="external-link">unit.c</a></span><span class="op">(</span></span>
<span>                    <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"npc"</span><span class="op">)</span> <span class="op">-</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"lines"</span><span class="op">)</span>, <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"lines"</span><span class="op">)</span></span>
<span>                  <span class="op">)</span></span>
<span>                <span class="op">)</span></span>
<span>              <span class="op">}</span>,</span>
<span>              footnote <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">footnote</span></span>
<span>            <span class="op">)</span></span>
<span>        <span class="op">}</span><span class="op">)</span></span>
<span>      <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">init</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu">modules</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/tm_g_association.html">tm_g_association</a></span><span class="op">(</span></span>
<span>      ref <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>          choices <span class="op">=</span> <span class="fu">variable_choices</span><span class="op">(</span></span>
<span>            <span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SEX"</span>, <span class="st">"RACE"</span>, <span class="st">"COUNTRY"</span>, <span class="st">"ARM"</span>, <span class="st">"STRATA1"</span>, <span class="st">"STRATA2"</span>, <span class="st">"ITTFL"</span>, <span class="st">"BMRKR2"</span><span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          selected <span class="op">=</span> <span class="st">"RACE"</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      vars <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>          choices <span class="op">=</span> <span class="fu">variable_choices</span><span class="op">(</span></span>
<span>            <span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SEX"</span>, <span class="st">"RACE"</span>, <span class="st">"COUNTRY"</span>, <span class="st">"ARM"</span>, <span class="st">"STRATA1"</span>, <span class="st">"STRATA2"</span>, <span class="st">"ITTFL"</span>, <span class="st">"BMRKR2"</span><span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          selected <span class="op">=</span> <span class="st">"BMRKR2"</span>,</span>
<span>          multiple <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      decorators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        plot <span class="op">=</span> <span class="fu">grob_caption_decorator</span><span class="op">(</span><span class="st">"I am a Association"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shinyApp</span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<iframe src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMASzLgCcoDTqA3OAAgB4BaDgMwCuEZtRIAKAJQcAKlgCqAUQA6EADbUARo3oBPceShqMMIgBNBauAGcMAcwoMjk1Ru1Q9BuEZPnLN+0dGNRcIVTMoUihuPkM1AH0IqPEAKyJaeIBrOF1rDgBeDjM4fihLUniCM2prAni0jOzc4AJxZTAAQQARAGUAGXbcDnburB72yQBdUKTo3g4Ad2pSAAtacVmhkFUODm7+mI56fYGIAF9Q1Tt6Ik1KtBYSRLhiRlIiekOhEUeIDZKymoKgQHmIIAVhmAAJIcWCwjh2IjmIovD6RD4TDjbcEcOLxUiMCDWfgfGDxUwWKxtHG7NRQTRwNQQ9oAYVBJEGO12HEE1Ah31EEmoZmk2O53OsawgukQiHIAA9SFCIKhBKRxJLaDLEAA5HriYVDdokoikCCmuATI1gABiSLNFsGHFYRkEnEKxVK5XuqF+oXFZ1wXN21gY7E+hQFvwNZiGs1Fwe5FP8PTDDBjQyjYINKrVQyIatVpCGoes1jBCZp4qO3lE7HEYur4tmUg4AB8AHyJpu7Jardbdnu7RtDpsmh3keLXW6Ha7C2UK0gAcRummpo9H4-N5CDVY34vlEIADEMVilBNZSMfd-ue3ZUBC52ZZfePOISWRywAvd0cACMJ4CCQpClAQv7tMsRjUAQTrEEyhTtNcUC6AArEeEyDhu-q3tyqBqKas70MKiiKowsoeISDgrrc644eKeGmjedHcluFpTquTHMRwIhEPB-6ccxKxwNQdgrKQeSFE+srCMsGCtJhOFSYgMnqn+1oqjBYDSHwSkqeIamQhoEA2FaCJEc+ykQMs+nWkZJlaQpWGOT22G3oGzniqx5AQrQRYACReZae4uQpFyDmFVZnFyoRRWE0DoIctDWVyswQpsXLJlYEkcJlNi0bspBknY8RQGWRAENQkTZoO9AlGlkRQPEcCkUwFTWKgLz5dWszQPAzKdL0Ax4ApoZWMwEKjS8bUdfJwXigQKzpGB2UukR9JWJUi3QXlHlFA1wDACMg3tJMkwCUO8lgD0igABpOu0WAdCyKh4JCLIAPLyDqcgAJr3Z0WAALL-T0cgdDIHR-iDYMQwATP9UIyDINpDdaABCgNYAA0lg8MOXN3KSOd1aTcwcBmP1j3Pe0CmuYTxOrdlsxNS1zDxO1nUKT1sDgQN-ScgTpNXoUQvszNXVNgtS02BCq2VZoG1S9t1gSz2swHUd-NgKdxOS20V23f9VMvdaH1fb9-0dED0OPRDUOve0oO2x0ePWojyOo5CGPY7jGEE7sRPOUL5P9d7OOu85MDlNQeG-nISi04OgfBcUrzovQ2UaJequ7AxwtmbcPq-M8afvPQ+swnC0QdGVFVVRy+NNnT2GhJcVn8BwObkIwdZwFIlYhlKugdOg4hoKgfm8kM49+aG9DhjFYBnJMQA" width="150%" height="800px" data-external="1" style="position: relative; z-index:1">
</iframe>
</div>
<div class="section level2">
<h2 id="decorating-datatables">Decorating <code>datatables</code><a class="anchor" aria-label="anchor" href="#decorating-datatables"></a>
</h2>
<p>Here’s an example to showcase how you can edit an output of class
<code>datatables</code>. Please refer the <a href="https://rstudio.github.io/DT/functions.html" class="external-link">helper functions</a>
of the <code>DT</code> package to learn more about extending the
<code>datatables</code> objects.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/teal.modules.general/">teal.modules.general</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">teal_data</span><span class="op">(</span>join_keys <span class="op">=</span> <span class="va">default_cdisc_join_keys</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="st">"ADRS"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/nestcolor/" class="external-link">nestcolor</a></span><span class="op">)</span></span>
<span>  <span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="va">rADSL</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="va">fact_vars_adsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/funprog.html" class="external-link">Filter</a></span><span class="op">(</span><span class="va">isTRUE</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span>, <span class="va">is.factor</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu">choices_selected</span><span class="op">(</span><span class="fu">variable_choices</span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span>, <span class="va">fact_vars_adsl</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt_table_decorator</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">color1</span> <span class="op">=</span> <span class="st">"pink"</span>, <span class="va">color2</span> <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">teal_transform_module</span><span class="op">(</span></span>
<span>    label <span class="op">=</span> <span class="st">"Table color"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">selectInput</span><span class="op">(</span></span>
<span>        <span class="fu">NS</span><span class="op">(</span><span class="va">id</span>, <span class="st">"color"</span><span class="op">)</span>,</span>
<span>        <span class="st">"Table Color"</span>,</span>
<span>        choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="va">color1</span>, <span class="va">color2</span><span class="op">)</span>,</span>
<span>        selected <span class="op">=</span> <span class="st">"Default"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span></span>
<span>            <span class="op">{</span></span>
<span>              <span class="va">summary_table</span> <span class="op">&lt;-</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/formatCurrency.html" class="external-link">formatStyle</a></span><span class="op">(</span></span>
<span>                <span class="va">summary_table</span>,</span>
<span>                columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">summary_table</span><span class="op">$</span><span class="va">x</span>, <span class="st">"colnames"</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>                target <span class="op">=</span> <span class="st">"row"</span>,</span>
<span>                backgroundColor <span class="op">=</span> <span class="va">color</span></span>
<span>              <span class="op">)</span></span>
<span>            <span class="op">}</span>,</span>
<span>            color <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">color</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">}</span><span class="op">)</span></span>
<span>      <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">init</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu">modules</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/tm_g_distribution.html">tm_g_distribution</a></span><span class="op">(</span></span>
<span>      dist_var <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>          choices <span class="op">=</span> <span class="fu">variable_choices</span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"BMRKR1"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>          selected <span class="op">=</span> <span class="st">"BMRKR1"</span>,</span>
<span>          multiple <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>          fixed <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      strata_var <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        filter <span class="op">=</span> <span class="fu">filter_spec</span><span class="op">(</span></span>
<span>          vars <span class="op">=</span> <span class="va">vars</span>,</span>
<span>          multiple <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      group_var <span class="op">=</span> <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>        dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>        filter <span class="op">=</span> <span class="fu">filter_spec</span><span class="op">(</span></span>
<span>          vars <span class="op">=</span> <span class="va">vars</span>,</span>
<span>          multiple <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      decorators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        summary_table <span class="op">=</span> <span class="fu">dt_table_decorator</span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Initializing tm_g_distribution</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shinyApp</span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<iframe src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMASzLgCcoDTqA3OAAgB4BaDgMwCuEZtRIAKAJQcAKlgCqAUQA6EADbUARo3oBPceShqMMIgBNBauAGcMAcwoMjk1Ru1Q9BuEZPnLN+0dGNRcIVTMoUihuPkM1AH0IqPEAKyJaeIBrOF1rDgBeDjM4fihLUniCM2prAni0jOzc4AJxZTAAQQARAGUAGXbcDnburB72yQBdUKTo3g4Ad2pSAAtacVmhkFUODno4AEdBan3xCBtSYjUielDd7v6YvYeBiABfUNLmeNYPa3ioGZrGontB4NZxAAxahqcj0cQ1ORKIbWNCoNT6WbAYAjXoDMCTSZDGoYL6kG6SSmqX70PLzAgrdIEGzxaxwKzMOBmcQ06hQTRWSqM6jMiFYnGdPHtQlDMk-P4AoEhULhCpRAVwRJwYiMcn0J5CEQsCRXG4ARgKwzAqFomUGHFN9AATJb2ho7CtSALBHAJhxthBdnF4qRGBBrPwbjB4qYLFY2oHdhw1Pz2a6wDJ+VYHURrvRBjsk8dLYbRBJqGZpAGk0m2RzSABJCCoQSkBM1msAOR6CLMQ3ajomuELHatmY1HAAwrmbgXE6OGUybJbWu0FmtyPbHWaho6nZJh-OO3XteQzOmuiUyrD2iOk3ck29DzW2fR2PrCqXjRBe0NZlW712WN-B6Bh31-ARhDLH9aBbUghiIVs4JRGxrDECAAKPGt9iYFh2HEatRyTWYpA4AAfAA+RZljWH9AKIwiiOPQQYBgDxdBDLNOHmLoZEQRBI3oNjSB6UhdHjeimN2awWLYvROI1Z8pIXXMWPDS1IlDcQZNY9iFKsAASAAPftCFzMEbAmYAeDNIlJKkqJ6AcUh03oIgFjnZTR00JhMjsNzhDMac8xXGd8ywqSH2Up97JrR1LVg1sDMHCKayijsPnozKjzeQtQlysJoHQJ5aGWdsikiaJCk2QtgKsPJCjqmxyqDaM7ESGpQy0Vt0Ja4jOvlD8KqieI4CM0NcNZVBtT6mtZgs9MXk8oiT2YS1VoqaxptXVKk0XEVl0KXkuKFJcxUq7FcX6aUiQdNpOgAcRUPArQAIQAWSwABpLAzQmA9Yo4DauXTD7vt+5amJgcpqHRThCkhDo+h6RQlKY-hqCMkGEaRlH7PS3YAYi6wJpGmlLVmUbxsYb4tpm+z5tgeGrSWvB7Ix2EGBLGE4Sm+ndt2GkGo4IW0aI6HYVh7NCiRFRdoJjgidHfzENQQaKcqqmJtp7bZuIyqFsKK78TFmsObhbnOfoPmduUoXLVFwGJZYOHLVl-H6KVjtih1SIbmFjQSb16TZL09VpaKNUTp9m4-fhBX0ofUIVQgah+A4BE6BpvC4CkTDpNo3QOnQcQ0QM44hjL1933ysA3kmIA" width="150%" height="800px" data-external="1" style="position: relative; z-index:1">
</iframe>
</div>
<div class="section level2">
<h2 id="decorating-trellis">Decorating <code>trellis</code><a class="anchor" aria-label="anchor" href="#decorating-trellis"></a>
</h2>
<p>Here’s an example to showcase how you can edit an output of class
<code>trellis</code>. <code>rtables</code> modifiers like
<code><a href="https://insightsengineering.github.io/rtables/latest-release/reference/insert_rrow.html" class="external-link">rtables::insert_rrow</a></code> can be applied to modify this
object.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/teal.modules.general/">teal.modules.general</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">teal_data</span><span class="op">(</span>join_keys <span class="op">=</span> <span class="va">default_cdisc_join_keys</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="st">"ADRS"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/nestcolor/" class="external-link">nestcolor</a></span><span class="op">)</span></span>
<span>  <span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="va">rADSL</span></span>
<span>  <span class="va">ADRS</span> <span class="op">&lt;-</span> <span class="va">rADRS</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">trellis_subtitle_decorator</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">default_caption</span> <span class="op">=</span> <span class="st">"I am a good decorator"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">teal_transform_module</span><span class="op">(</span></span>
<span>    label <span class="op">=</span> <span class="st">"Caption"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span>, <span class="st">"footnote"</span><span class="op">)</span>, <span class="st">"Footnote"</span>, value <span class="op">=</span> <span class="va">default_caption</span><span class="op">)</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span></span>
<span>              <span class="op">{</span></span>
<span>                <span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">plot</span>, sub <span class="op">=</span> <span class="va">footnote</span><span class="op">)</span></span>
<span>              <span class="op">}</span>,</span>
<span>              footnote <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">footnote</span></span>
<span>            <span class="op">)</span></span>
<span>        <span class="op">}</span><span class="op">)</span></span>
<span>      <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">init</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu">modules</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/tm_g_scatterplotmatrix.html">tm_g_scatterplotmatrix</a></span><span class="op">(</span></span>
<span>      label <span class="op">=</span> <span class="st">"Scatterplot matrix"</span>,</span>
<span>      variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>          dataname <span class="op">=</span> <span class="st">"ADSL"</span>,</span>
<span>          select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>            choices <span class="op">=</span> <span class="fu">variable_choices</span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADSL"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>            selected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"RACE"</span>, <span class="st">"SEX"</span><span class="op">)</span>,</span>
<span>            multiple <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            ordered <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="fu">data_extract_spec</span><span class="op">(</span></span>
<span>          dataname <span class="op">=</span> <span class="st">"ADRS"</span>,</span>
<span>          filter <span class="op">=</span> <span class="fu">filter_spec</span><span class="op">(</span></span>
<span>            label <span class="op">=</span> <span class="st">"Select endpoints:"</span>,</span>
<span>            vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PARAMCD"</span>, <span class="st">"AVISIT"</span><span class="op">)</span>,</span>
<span>            choices <span class="op">=</span> <span class="fu">value_choices</span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADRS"</span><span class="op">]</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PARAMCD"</span>, <span class="st">"AVISIT"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PARAM"</span>, <span class="st">"AVISIT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            selected <span class="op">=</span> <span class="st">"INVET - END OF INDUCTION"</span>,</span>
<span>            multiple <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>          <span class="op">)</span>,</span>
<span>          select <span class="op">=</span> <span class="fu">select_spec</span><span class="op">(</span></span>
<span>            choices <span class="op">=</span> <span class="fu">variable_choices</span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"ADRS"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>            selected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGE"</span>, <span class="st">"AVAL"</span>, <span class="st">"ADY"</span><span class="op">)</span>,</span>
<span>            multiple <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            ordered <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      decorators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        plot <span class="op">=</span> <span class="fu">trellis_subtitle_decorator</span><span class="op">(</span><span class="st">"I am a Scatterplot matrix"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shinyApp</span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<iframe src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMASzLgCcoDTqA3OAAgB4BaDgMwCuEZtRIAKAJQcAKlgCqAUQA6EADbUARo3oBPceShqMMIgBNBauAGcMAcwoMjk1Ru1Q9BuEZPnLN+0dGNRcIVTMoUihuPkM1AH0IqPEAKyJaeIBrOF1rDgBeDjM4fihLUniCM2prAni0jOzc4AJxZTAAQQARAGUAGXbcDnburB72yQBdUKTo3g4Ad2pSAAtacVmhkFUODno4AEdBan3xCBtSYjUielDd7v6YvYeBiHuusaf6UfGIAF9QqpSPs1BprPFrIJNCxSFZEnBiIxSDcnkIRCwJMVSuVKmgMW9Cu0AJIcWCkjh2IjmIoIm6RG4TDjbN4cOLxYFQCDWfg3GDxUwWKxtFm7NRQTRwNQFYZgADCeLEYTwO12HGO0rRogk1DM0msawgukQiHIAA9SESIKhBKRxPraEbEAA5HriHVDdo8oikCDeuATD1gABiVJ9fsGHFYRkEnEKWLKagqBAVJEkuBVu2sDHY9A1wi1EDdZiGs2kzNVqoF-h62YYRaGmvxbqtNqGRBt1tIQyz1msirLGYre28onY4nLQ4rsykHAAPgA+QeT3ZLVbrJfL3YTzeT1DXUhPQSoJJwcR773dqEa0O+8h3HcVv7pkUPgQ3v3S2idgAkXrD5A3Sd70nAEN1Al8-hVUJILCaB0CeWhlmFXZZmlTYVSrKw8kKTCbGQ1VSD5OwIWTUhyHoc9CMiehqFNfCKzFCUpUJMAelI8jKI4GBqNowYNyjGjxSw6UwVtQCikiKB4jgc1GGYCFUARejl1maB4GlEZegGZUX0nLMrGYaV9IRCprEU1pxIrAgVnSAgbGlATqCEuBKhs6g7OsDZJOAYBNP6dpJmmZ9Xw4YzmDgMxpQszoAHEVDwGUsA6WV4sDHpFAADQDSzK3Kag91jWQFEUYLXxuYp9kiwo5CUHLgKHNNxNmaTZKYUzzOUydVNgQrNLGPjdKHfhqETBgNRG8iFKUnLRXFSUNNYyUTI4CgzFQdIyGsRABpCgTsI4aKAAUOiSgBZWUugjEYADUiR6IkZGywbJ2s2z7MKKM1BjVy3s82YfL68YwECoYjpOjpzsuhKbruh6AwOtowGOs6rs6W77sesBJEa56hzC8gqplIknWuxQZA4PhFCdLoOAAeSDDhia6eRZRkIlaadHbXxgPKCulGqVFx3YcYffGjKW+SzOmoXVVe9z3sjDwnM0OE5Y8ryogBzoPiBwKRdffGIqixGOji1GOmujptMDboAE0npCnnE3yqx+eK0qH3Khgjeq4q6vE+rhY91VikRel6H20TOtVTjCmBSUwQhKEYThUO6WRehEZJMlojYyIOP3LieNNCYN3q+9QkBCBqH4Dhm3Itq2FPbGmRVe1DQ6dBxDQVBv2OIYe+-LN6BzaCwD+SYgA" width="150%" height="800px" data-external="1" style="position: relative; z-index:1">
</iframe>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>teal.modules.general is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>





  </body>
</html>
