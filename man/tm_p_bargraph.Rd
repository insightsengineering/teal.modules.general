% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tm_p_bargraph.R
\name{tm_p_bargraph}
\alias{tm_p_bargraph}
\title{Bar Graph Module}
\usage{
tm_p_bargraph(
  label = "Bar Plot",
  plot_dataname,
  y_var,
  color_var,
  count_var,
  bar_colors = NULL
)
}
\arguments{
\item{label}{(\code{character(1)}) Label shown in the navigation item for the module.}

\item{plot_dataname}{(\code{character(1)}) Name of the dataset to be used for plotting.}

\item{y_var}{(\code{character(1)}) Name of the categorical variable to be displayed on y-axis (bar categories).}

\item{color_var}{(\code{character(1)}) Name of the categorical variable used for color coding and stacking segments.}

\item{count_var}{(\code{character(1)}) Name of the variable whose distinct values will be counted for bar heights.}

\item{bar_colors}{(\verb{named character} or \code{NULL}) Valid color names or hex-colors named by levels of color_var column.}
}
\description{
This module creates an interactive horizontal stacked bar chart visualization that
displays counts of distinct values grouped by categories. The bars are automatically
ordered by total count (ascending) and support color coding by a categorical variable.
Users can select bar segments by brushing to filter the underlying data. The plot
aggregates data by counting distinct values within each group combination.
}
\examples{
data <- teal_data() |>
  within({
    df <- data.frame(
      adverse_event = sample(c("Headache", "Nausea", "Fatigue", "Dizziness", "Rash"),
        100,
        replace = TRUE, prob = c(0.3, 0.25, 0.2, 0.15, 0.1)
      ),
      severity = sample(c("Mild", "Moderate", "Severe"), 100,
        replace = TRUE,
        prob = c(0.6, 0.3, 0.1)
      ),
      subject_id = sample(paste0("S", 1:30), 100, replace = TRUE),
      treatment = sample(c("Active", "Placebo"), 100, replace = TRUE)
    )

    # Add labels
    attr(df$adverse_event, "label") <- "Adverse Event Type"
    attr(df$severity, "label") <- "Severity Grade"
    attr(df$subject_id, "label") <- "Subject ID"
    attr(df$treatment, "label") <- "Treatment Group"
  })

app <- init(
  data = data,
  modules = modules(
    tm_p_bargraph(
      label = "AE by Treatment",
      plot_dataname = "df",
      y_var = "adverse_event",
      color_var = "treatment",
      count_var = "subject_id",
      bar_colors = c("Active" = "#FF6B6B", "Placebo" = "#4ECDC4")
    )
  )
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}

}
