% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tm_p_spaghetti.R
\name{tm_p_spaghetti}
\alias{tm_p_spaghetti}
\title{Spaghetti Plot Module}
\usage{
tm_p_spaghetti(
  label = "Spaghetti Plot",
  plot_dataname,
  group_var,
  x_var,
  y_var,
  color_var,
  point_colors = character(0),
  tooltip_vars = NULL,
  transformators = list(),
  show_widgets = TRUE
)
}
\arguments{
\item{label}{(\code{character(1)}) Label shown in the navigation item for the module or module group.
For \code{modules()} defaults to \code{"root"}. See \code{Details}.}

\item{plot_dataname}{(\code{character(1)}) Name of the dataset to be used for plotting.}

\item{group_var}{(\code{character(1)}) Name of the grouping variable that defines individual trajectories.}

\item{x_var}{(\code{character(1)}) Name of the variable to be used for x-axis (typically time).}

\item{y_var}{(\code{character(1)}) Name of the variable to be used for y-axis (typically a measurement).}

\item{color_var}{(\code{character(1)}) Name of the variable to be used for coloring points and lines.}

\item{point_colors}{(\verb{named character} or \code{NULL}) Valid color names or hex-colors named by levels of \code{color_var} column.
If \code{NULL}, default colors will be used.}

\item{tooltip_vars}{(\code{character} or \code{NULL}) A vector of column names to be displayed in the tooltip.
If \code{NULL}, default tooltip is created showing group, x, y, and color variables.}

\item{transformators}{(\code{list} of \code{teal_transform_module}) that will be applied to transform module's data input.
To learn more check \code{vignette("transform-input-data", package = "teal")}.}

\item{show_widgets}{(\code{logical(1)}) Whether to show module widgets.}
}
\value{
Object of class \code{teal_module} to be used in \code{teal} applications.
}
\description{
This module creates an interactive spaghetti plot visualization that shows individual
trajectories for each group over time. Each trajectory is represented by connected
points and lines, creating a "spaghetti-like" appearance. The plot supports customizable
tooltips and color coding by categorical variables. Users can select points by brushing
to filter the underlying data.
}
\examples{
data <- teal_data() |>
  within({
    df <- data.frame(
      subject_id = rep(paste0("S", 1:10), each = 4),
      time_point = rep(c(0, 30, 60, 90), 10),
      response = rnorm(40, 15, 3) + rep(c(0, 2, 4, 6), 10),
      treatment = rep(c("Active", "Placebo"), each = 20),
      age_group = rep(c("Young", "Old"), 20),
      baseline = rep(rnorm(10, 12, 2), each = 4),
      center = rep(c("Site A", "Site B", "Site A", "Site B", "Site A"), each = 8)
    )

    # Add labels
    attr(df$subject_id, "label") <- "Subject ID"
    attr(df$time_point, "label") <- "Time Point (days)"
    attr(df$response, "label") <- "Response Score"
    attr(df$treatment, "label") <- "Treatment Group"
    attr(df$age_group, "label") <- "Age Group"
    attr(df$baseline, "label") <- "Baseline Score"
    attr(df$center, "label") <- "Study Center"
  })

app <- init(
  data = data,
  modules = modules(
    tm_p_spaghetti(
      label = "Basic Spaghetti Plot",
      plot_dataname = "df",
      group_var = "subject_id",
      x_var = "time_point",
      y_var = "response",
      color_var = "treatment"
    )
  )
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}

app <- init(
  data = data,
  modules = modules(
    tm_p_spaghetti(
      label = "Advanced Spaghetti Plot with All Features",
      plot_dataname = "df",
      group_var = "subject_id",
      x_var = "time_point",
      y_var = "response",
      color_var = "treatment",
      point_colors = c("Active" = "#1f77b4", "Placebo" = "#ff7f0e"),
      tooltip_vars = c("subject_id", "time_point", "response", "treatment", "age_group", "baseline", "center"),
      show_widgets = TRUE
    )
  )
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}

}
